<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>JS 01 - drum kit</title>
		<link rel="stylesheet" href="css/styles.css">
	</head>

	<body>
		<h1>Drum kit</h1>
		<div id="button-container">
			<div>
				<button class="sound" data-keycode="97">Kick</button>
				<button class="sound" data-keycode="115">Boom</button>
				<button class="sound" data-keycode="100">Snare</button>
				<button class="sound" data-keycode="102">Clap</button>
				<button class="sound" data-keycode="103">Hihat</button>
				<button class="sound" data-keycode="104">Open Hihat</button>
				<button class="sound" data-keycode="106">Ride</button>
				<button class="sound" data-keycode="107">Tom</button>
				<button class="sound" data-keycode="108">Tink</button>
			</div>
		</div>
		<div id="audio-wrapper">
			<audio id="kick">
				<source src="sounds/kick.wav" type="audio/wav">
			</audio>
			<audio id="boom">
				<source src="sounds/boom.wav" type="audio/wav">
			</audio>
			<audio id="snare">
				<source src="sounds/snare.wav" type="audio/wav">
			</audio>
			<audio id="clap">
				<source src="sounds/clap.wav" type="audio/wav">
			</audio>
			<audio id="hihat">
				<source src="sounds/hihat.wav" type="audio/wav">
			</audio>
			<audio id="openhat">
				<source src="sounds/openhat.wav" type="audio/wav">
			</audio>
			<audio id="ride">
				<source src="sounds/ride.wav" type="audio/wav">
			</audio>
			<audio id="tom">
				<source src="sounds/tom.wav" type="audio/wav">
			</audio>
			<audio id="tink">
				<source src="sounds/tink.wav" type="audio/wav">
			</audio>
		</div>
	</body>
	<script>
			let kickAudio = document.getElementById('kick');
			let boomAudio = document.getElementById('boom');
			let snareAudio = document.getElementById('snare');
			let clapAudio = document.getElementById('clap');
			let hihatAudio = document.getElementById('hihat');
			let openhatAudio = document.getElementById('openhat');
			let rideAudio = document.getElementById('ride');
			let tomAudio = document.getElementById('tom');
			let tinkAudio = document.getElementById('tink');

			function playSoundOnKey(event) {
				let soundCode = event.keyCode;
				let element = document.querySelector('button[data-keycode="' + soundCode + '"]');
				playSound(soundCode, element);
			}

			let btn = document.querySelectorAll('.sound');

			function playSoundOnClick(event) {
				let soundCode = parseInt(this.getAttribute('data-keyCode'));
				playSound(soundCode, this);
			}

			function playSound(soundCode, element) {
				element.classList.add('playing');
				setTimeout(function() {
					element.classList.remove('playing');
				},200)
				switch(soundCode) {
					case 97:
						kickAudio.play();
						break;
					case 115:
						boomAudio.play();
						break;
					case 100:
						snareAudio.play();
						break;
					case 102:
						clapAudio.play();
						break;
					case 103:
						hihatAudio.play();
						break;
					case 104:
						openhatAudio.play();
						break;
					case 106:
						rideAudio.play();
						break;
					case 107:
						tomAudio.play();
						break;
					case 108:
						tinkAudio.play();
						break;
					default:
						break;
				}
			}

			document.addEventListener("keypress", playSoundOnKey);

			for (var i=0; i< btn.length; i++) {
				btn[i].addEventListener('click', playSoundOnClick);
			}
			
		</script>
</html>